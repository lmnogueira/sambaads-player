{"version":3,"sources":["sambaads.widget.controller.js","sambaads.widget.view.js"],"names":["WidgetController","data","self","this","currentMediaId","currentPlaylistIndex","lastPlaylistIndex","playlist","playerInfo","player_info","prototype","getPlaylist","play","first_argument","load","SambaAdsWidgetView","debug","displayOverlayShare","document","getElementById","displayOverlayPlay","displayOverlayNextVideo","playButtom","videoTitleBar","videoTitle","showDisplay","option","init","widget","controller","length","showPlaylist","options","playVideo","video","playerSetup","hideDisplay","$","hide","style","display","updateItemCurrent","each","idex","item","id","indexOf","find","text","show","playlistInfo","height","width","plp","tm","_options","position","playlist_position","playlistStyle","theme","playlistWidth","playlistHeight","vitem","hitem","empty","addClass","forEach","new_h_item","clone","attr","children","image","title","replace","append","lightSlider","autoWidth","slideMove","slideMargin","mode","useCSS","loop","controls","prevHtml","nextHtml","pager","enableTouch","enableDrag","onSliderLoad","removeClass","nanoScroller","click","split","onPlay","updateViewsCount","media_id","owner_id","category_name"],"mappings":"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","file":"sambaads.widget.js","sourcesContent":["function WidgetController(data){\n\tvar self = this;\n\t// self.guid = encodeURIComponent(this.guid());\n\tself.currentMediaId=\"\";\n\tself.currentPlaylistIndex = 0;\n\tself.lastPlaylistIndex = 0;\n\tself.data = data;\n\tself.playlist = data.playlist;\n\tself.playerInfo = data.player_info;\n}\n\nWidgetController.prototype.getPlaylist = function() {\n\treturn this.playlist;\n};\n\nWidgetController.prototype.play = function(first_argument) {\n};\n\nWidgetController.prototype.load = function(first_argument) {\n\t// self.updateLoadCount('', this.controller.playerInfo.category_name);\n};","var SambaAdsWidgetView = {};\n\nSambaAdsWidgetView = function (){\n\tthis.debug = true;\n\tthis.displayOverlayShare \t = document.getElementById(\"display-overlay-share\");\n\tthis.displayOverlayPlay \t = document.getElementById(\"display-overlay-play\");\n\tthis.displayOverlayNextVideo = document.getElementById(\"display-overlay-next\");\n\t\n\tthis.playButtom = document.getElementById(\"display-buttom-play\");\n\tthis.videoTitleBar = document.getElementById(\"video-title-bar\");\n\tthis.videoTitle = document.getElementById(\"video-title\");\n\t\n};\n\nSambaAdsWidgetView.prototype.showDisplay = function(option){};\n\nSambaAdsWidgetView.prototype.init = function(widget){\n\tvar self = this;\n\tthis.controller = widget;\n\n\tself.showDisplay(\"play\");\n\n\tif(this.controller.getPlaylist().length > 1)\n\t\tself.showPlaylist(self.options());\n};\n\nSambaAdsWidgetView.prototype.playVideo = function(video){\n\tthis.playerSetup.playlist = [video];\n};\n\nSambaAdsWidgetView.prototype.hideDisplay = function(){\n\t$(\"#display-overlay-loader\").hide();\n\tthis.displayOverlayPlay.style.display = \"none\";\n\tthis.displayOverlayShare.style.display = \"none\";\n\tthis.displayOverlayNextVideo.style.display = \"none\";\n};\n\n\nSambaAdsWidgetView.prototype.updateItemCurrent = function(){\n\tvar self = this;\n\n\t$(\"div.playlist-item\").each(function(idex, item){\n\t\tif(item.id.indexOf(self.controller.currentPlaylistIndex) >= 0){\n\t\t\t$(item).find(\"span.video-duration\").text(\"ASSISTIU\");\n\t\t\t$(item).find(\"span.video-duration\").show();\n\t\t}\n\n\t\tif(item.id.indexOf(self.controller.lastPlaylistIndex) >= 0){\n\t\t\tif(self.controller.lastPlaylistIndex != self.controller.currentPlaylistIndex){\n\t\t\t\t$(item).find(\"span.video-duration\").hide();\n\t\t\t}\n\t\t}\n\t});\n};\n\nSambaAdsWidgetView.prototype.options = function(){\n\tvar self = this;\n\n\tvar playlistInfo = {}\n\n\tif ($(document).height() >= $(document).width()) {\n\t\tplaylistInfo.plp = \"bottom-vertical\";\n\t\tplaylistInfo.tm = \"dark\";\n\t} else {\n\t\tplaylistInfo.plp = \"right\";\n\t\tplaylistInfo.tm = \"dark\";\n\t}\n\n\tvar _options = {\n\t\t\tposition: this.controller.playerInfo.playlist_position || playlistInfo.plp,\n\t\t\tplaylistStyle: this.controller.playerInfo.theme || playlistInfo.tm,\n\t\t\tplaylist:[]\n\t};\n\n\tif (_options.position == \"bottom-horizontal\") {\n\t\t_options.playlistWidth = 0;\n\t\t_options.playlistHeight = 143;\n\t}\n\n\treturn _options;\n};\n\n\nSambaAdsWidgetView.prototype.showPlaylist = function(options){\n\tvar self = this;\n\n\tself.vitem = $(\"#playlist-v-item\");\n\tself.hitem = $(\"#playlist-h-item\");\n\n\t$(\"#playlist-v-items\").empty();\n\t$(\"#playlist-h-items\").empty();\n\n\tif(options.position == \"bottom-horizontal\"){\n\t\t$($.find(\"div.sambaads-playlist.horizontal\")[0]).addClass(options.playlistStyle);\n\t\t$(\"#playlist-h-items\").show();\n\t}\n\n\tthis.controller.getPlaylist().forEach(function(item){\n\t\tvar new_h_item = self.hitem.clone();\n\n\t\tnew_h_item.find(\"div.playlist-item\").attr(\"id\", \"h-\" + $(\"#playlist-h-items\").children().length);\n\n\t\t$(new_h_item).find(\"img\").attr('src',item.image)\n\n\t\t$(new_h_item).find(\"div.video-description h4 a\").text(item.title.replace(/^(.{30}[^\\s]*).*/, \"$1\") + \"\\n\");\n\n\t\t$(\"#playlist-h-items\").append(new_h_item);\n\t});\n\n\t$(\".sambaads-playlist\").show();\n\n\t$(\"#playlist-h-items\").lightSlider({\n\t\titem: 3,\n\t\tautoWidth: true,\n\t\tslideMove: 1, // slidemove will be 1 if loop is true\n\t\tslideMargin: 0,\n\t\tmode: \"slide\",\n\t\tuseCSS: true,\n\t\tloop: true,\n\t\tcontrols: true,\n\t\tprevHtml: '<i class=\"icon-previous\"></i>',\n        nextHtml: '<i class=\"icon-next\"></i>',\n\t\tpager: false,\n\t\tenableTouch:false,\n        enableDrag:false,\n\t\tonSliderLoad: function() {\n\t\t\t$('#autoWidth').removeClass('cS-hidden');\n\t\t}\n\t});\n\n\t$(\".nano\").nanoScroller();\n\n\n\t$( \"div.playlist-item\" ).click(function() {\n\t\tvar index = this.id.split(\"-\")[1];\n\t\tself.controller.play();\n\t\tself.updateItemCurrent();\n\t});\n};\n\nSambaAdsWidgetView.prototype.onPlay = function(){\n\tthis.controller.updateViewsCount(\n\t\t\tthis.options.playlist[this.controller.currentPlaylistIndex].media_id, \n\t\t\tthis.options.playlist[this.controller.currentPlaylistIndex].owner_id, \n\t\t\tthis.options.playlist[this.controller.currentPlaylistIndex].category_name);\n};"],"sourceRoot":"/source/"}