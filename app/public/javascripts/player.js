"use strict";var ViewabilityMonitorPlugin=function(e,t){this.visiblePlayTimeout=1e3,t.toClearTimeout=0,this.isElementInViewport=function(t){"function"==typeof jQuery&&t instanceof jQuery&&(t=t[0]);var a=t.getBoundingClientRect();return a.top>=0&&a.left>=0&&a.bottom<=(e.innerHeight||document.documentElement.clientHeight)&&a.right<=(e.innerWidth||document.documentElement.clientWidth)},this.fireIfElementVisible=function(e){var a=this;return function(){a.isElementInViewport(e)?t.visible||(t.visible=!0,t.toClearTimeout=setTimeout(function(){clearTimeout(t.toClearTimeout),t.setVisible(!0)},a.visiblePlayTimeout)):(clearTimeout(t.toClearTimeout),t.visible&&(t.visible=!1,t.setVisible(!1)))}},t.handler=this.fireIfElementVisible(document.getElementById(t.id)),e.addEventListener?(e.addEventListener("DOMContentLoaded",t.handler,!1),e.addEventListener("load",t.handler,!1),e.addEventListener("resize",t.handler,!1),e.addEventListener("scroll",t.handler,!1)):(e.attachEvent("DOMContentLoaded",t.handler),e.attachEvent("load",t.handler),e.attachEvent("resize",t.handler),e.attachEvent("scroll",t.handler))},ExpandedCinema=function(e,t){this.sendEvent=function(t,a){var n=e.sambaads.getPlayer(t);n.contentWindow().postMessage(n.id+"::expandedCinema::"+a,n.iframe_target_host)},this.scrollOffset=function(){var t=0,a=0;"number"==typeof window.pageYOffset?(a=window.pageYOffset,t=window.pageXOffset):document.body&&(document.body.scrollLeft||document.body.scrollTop)?(a=document.body.scrollTop,t=document.body.scrollLeft):document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)&&(a=document.documentElement.scrollTop,t=document.documentElement.scrollLeft),e.sambaads.expandedCinema.scrOfX=t,e.sambaads.expandedCinema.scrOfY=a},this.detectContainerPositions=function(e){try{var t=document.getElementById(e),a=t.getBoundingClientRect(),n=a.top,i=a.left;return n+","+i}catch(s){}},this.load=function(e,t,a,n){try{this.scrollOffset();var i=this.detectContainerPositions(n),s=i.split(",")[0],o=i.split(",")[1],d=document.createElement("div");d.id="sambaadsExpandedCinema."+n,d.style.position="absolute",d.style["margin-left"]="0px",d.style["box-sizing"]="border-box",d.style["margin-top"]="0px",d.style["text-align"]="left",d.style["z-index"]="300000002",d.style.cursor="pointer",d.innerHTML="<a id='btnClose."+n+"' href='#' style='width: 30px;position: absolute;margin-left: 98%;margin-top: -1.5%; display:none;'><img id='btnCloseImg."+n+"' src='//d3655zppehxyvi.cloudfront.net/lib/close.png' style='width: 30px; display:none;'></a><object id='sambaads_expanded_cinema_swf."+n+"' classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000' name='sambaads_expanded_cinema_swf."+n+"'><param name='movie' value='"+e+"?playerWidth="+t+"&amp;playerHeight="+a+"&amp;playerTop="+s+"&amp;playerLeft="+o+"&amp;iframeId="+n+"'><param name='wmode' value='transparent'><param name='allowfullscreen' value='true'><param name='align' value='middle'><param name='allowscriptaccess' value='always'><embed src='"+e+"?playerWidth="+t+"&amp;playerHeight="+a+"&amp;playerTop="+s+"&amp;playerLeft="+o+"&amp;iframeId="+n+"' wmode='transparent' quality='high' id='sambaads_expanded_cinema_swf_embed."+n+"' name='sambaads_expanded_cinema_swf_embed."+n+"' align='middle' allowscriptaccess='always' allowfullscreen='true' type='application/x-shockwave-flash' pluginspage='http://www.macromedia.com/go/getflashplayer'></object>",document.body.appendChild(d),document.getElementById("btnClose."+n).onclick=function(e){return window.sambaads.expandedCinema.close(n),!1},setTimeout(function(){var e=document.getElementById("btnClose."+n),t=document.getElementById("btnCloseImg."+n);e.style.display="block",t.style.display="block"},5e3)}catch(l){}},this.close=function(e){try{var t=document.getElementById("sambaadsExpandedCinema."+e);t.parentNode.removeChild(t)}catch(a){}}};!function(e){var t=function(){var e=document.currentScript||function(){var e=document.getElementsByTagName("script");return 0!=e[e.length-1].src.indexOf("player.sambaads.com")?e[e.length-1]:void 0}();return e},a=t(),n=(e.location,{});e.sambaads||(e.sambaads={},e.sambaads.players=[],e.sambaads.getPlayer=function(t){t=t||"sambaads_0";for(var a=0;a<e.sambaads.players.length;a++)if(e.sambaads.players[a].id==t)return e.sambaads.players[a]});var i=function(e){var t,a,n,i,s=e.split("?")[1],o={};try{for(t=s.split("&"),n=0,i=t.length;i>n;n++)a=t[n].split("="),o[a[0]]=a[1]}catch(d){}return o},s=function(){new ViewabilityMonitorPlugin(e,n),e.sambaads.expandedCinema=new ExpandedCinema(e,n)},o=function(e,t){e.parentElement.insertBefore(t,e.nextSibling)},d=function(t){var i=document.createElement("div"),s="sambaads_"+e.sambaads.players.length,d="",l="";if(t.m=t.m||t.mid||"",t.p=t.p||t.pid||"",t.c=t.c||t.cid||"",t.t=t.t||t.tags||"",t.sk=t.sk||"",t.tm=t.tm||"",t.plp=t.plp||"",t.plw=t.plw||"",t.plh=t.plh||"",t.ct=t.ct||"",t.tb=t.tb||"",t.tbbg=t.tbbg||"",t.tbfs=t.tbfs||"",t.rfr=encodeURIComponent(window.location.href),t.p){d="//"+t.request_domain+"/iframe/"+t.p+"?",d=t.m?d+"m="+t.m+"&t="+t.t+"&sk="+t.sk+"&tm="+t.tm+"&plp="+t.plp+"&plw="+t.plw+"&plh="+t.plh+"&ct="+t.ct+"&tb="+encodeURIComponent(t.tb)+"&tbbg="+t.tbbg+"&tbfs="+t.tbfs+"&rfr="+t.rfr:d+"c="+t.c+"&t="+t.t+"&sk="+t.sk+"&tm="+t.tm+"&plp="+t.plp+"&plw="+t.plw+"&plh="+t.plh+"&ct="+t.ct+"&tb="+encodeURIComponent(t.tb)+"&tbbg="+t.tbbg+"&tbfs="+t.tbfs+"&rfr="+t.rfr,t.w&&(l='width="'+t.w+'" '),t.h&&(l=l+'height="'+t.h+'" '),i.innerHTML=t.m||t.c?'<iframe id="'+s+'" '+l+'src="'+d+'" frameborder="0" scrolling="no"  webkitallowfullscreen mozallowfullscreen allowFullScreen></iframe>':"<div id='sambaads_now_whatch_div' class='sambaads_now_whatch_div'><div style='margin-bottom: 10px;text-align: -webkit-left; text-align: left;'><h2 id='sambaads_now_whatch' class='sambaads_now_whatch' style='margin-top:10px;margin-bottom:10px; width: auto; font-family: verdana, arial, sans-serif;display: inline-block; margin-right: 5px; color:#000000; font-weight: bold; font-size:1.5em;'>ASSISTA AGORA:</h2><span id='sambaads_now_whatch_title_"+s+"' class='sambaads_now_whatch_title' style='font-family: verdana, arial, sans-serif; color:#126cb0;font-size:1.1em; font-weight: bold;'></span></div><iframe id=\""+s+'" '+l+'src="'+d+'" frameborder="0" scrolling="no"  webkitallowfullscreen mozallowfullscreen allowFullScreen></iframe><div style=\'height: 30px;\'><p style="font-size: 11px; margin: 0px; color: #B0B0B0; text-align: left; text-align: -webkit-left;">powered by <a href="//www.sambaads.com.br/?utm_campaign=Recomendador&utm_medium=Powered&utm_source=PlayerRecomendador"><img src=\'//d366amxgkdfvcq.cloudfront.net/images/sambaads-logo.png\' style=\'vertical-align:middle; width:100px !important; height: 24px !important\'></a></p></div></div>',o(a,i.firstChild);var r={id:s,pid:t.p||t.pid||"",mid:t.m||t.mid||"",cid:t.c||t.cid||"",plw:t.plw||0,plh:t.plh||0,dimension:t.d||t.dimension,width:t.w,height:t.h,iframe_target_host:e.location.protocol+"//"+t.request_domain,toClearTimeout:0,isReady:!1,contentWindow:function(){return document.getElementById(this.id).contentWindow},sendMessage:function(e,t){this.contentWindow().postMessage&&this.contentWindow().postMessage(this.id+"::"+e+"::"+t,this.iframe_target_host)},doPlay:function(){this.contentWindow().postMessage&&this.contentWindow().postMessage(this.id+"::play::",this.iframe_target_host)},setVisible:function(e){this.contentWindow().postMessage&&this.contentWindow().postMessage(this.id+"::visible::"+e,this.iframe_target_host)},setMute:function(e){this.contentWindow().postMessage&&this.contentWindow().postMessage(this.id+"::mute::"+e,this.iframe_target_host)},doPause:function(){this.contentWindow().postMessage&&this.contentWindow().postMessage(this.id+"::pause::",this.iframe_target_host)},seek:function(e){this.contentWindow().postMessage&&this.contentWindow().postMessage(this.id+"::seek::"+e,this.iframe_target_host)},debug:function(){this.contentWindow().postMessage&&this.contentWindow().postMessage(this.id+"::debug::",this.iframe_target_host)}};return n=r,e.sambaads.players.push(r),r}},l=function(){var t=i(a.src);t.w=t.w?t.w:"100%",t.h=t.h?t.h:"100%",t.request_domain="true"==t.debug?"localhost:3000":"d366amxgkdfvcq.cloudfront.net";var n=d(t);m(n);for(var s=0;s<document.getElementsByTagName("iframe").length;s++)e.sambaads.players.forEach(function(e){document.getElementsByTagName("iframe")[s].id==e.id&&(e.onMouseOver||(e.onMouseOver=function(t){("PLAYING"==e.state||"PAUSED"==e.state)&&(e.sendMessage("mouseover",""),document.getElementById(e.id).removeEventListener("mouseover",e.onMouseOver))},document.getElementsByTagName("iframe")[s].addEventListener("mouseover",e.onMouseOver)))})},r=function(t){if(t.origin.indexOf("cloudfront")>=0||t.origin.indexOf("localhost:3000")>=0){var a=t.data.split("::");if(a[0]==n.id){if("ready"==a[1]&&(clearInterval(n.isReady),n.isReady=!0,n.player_width=a[2].split(",")[1],n.player_height=a[2].split(",")[2]-4,s()),"onStateChange"==a[1]&&(n.state=a[2]),"loadExpandedCinema"==a[1]){var i=e.sambaads.getPlayer(a[0]);e.sambaads.expandedCinema.load(a[2],i.player_width,i.player_height,i.id)}if("removeExpandedCinema"==a[1]){var i=e.sambaads.getPlayer(a[0]);e.sambaads.expandedCinema.close(i.id)}"onNowWatchTitle"==a[1]&&document.getElementById("sambaads_now_whatch_title_"+a[0])&&(document.getElementById("sambaads_now_whatch_title_"+a[0]).innerHTML=a[2])}}},m=function(){e.addEventListener?e.addEventListener("message",r,!1):attachEvent("onmessage",r),n.isReady=setInterval(function(){n.sendMessage("ready","")},2e3)};l()}(this);
//# sourceMappingURL=player.js.map