"use strict";function WidgetController(t){var i=this;i.currentMediaId="",i.currentPlaylistIndex=0,i.lastPlaylistIndex=0,i.data=t,i.playlist=t.playlist,i.playerInfo=t.player_info}WidgetController.prototype.getPlaylist=function(){return this.playlist},WidgetController.prototype.play=function(t){},WidgetController.prototype.load=function(t){};var SambaAdsWidgetView={};SambaAdsWidgetView=function(){this.debug=!0,this.displayOverlayShare=document.getElementById("display-overlay-share"),this.displayOverlayPlay=document.getElementById("display-overlay-play"),this.displayOverlayNextVideo=document.getElementById("display-overlay-next"),this.playButtom=document.getElementById("display-buttom-play"),this.videoTitleBar=document.getElementById("video-title-bar"),this.videoTitle=document.getElementById("video-title")},SambaAdsWidgetView.prototype.showDisplay=function(t){},SambaAdsWidgetView.prototype.init=function(t){var i=this;this.controller=t,i.showDisplay("play"),this.controller.getPlaylist().length>1&&i.showPlaylist(i.options())},SambaAdsWidgetView.prototype.playVideo=function(t){this.playerSetup.playlist=[t]},SambaAdsWidgetView.prototype.hideDisplay=function(){$("#display-overlay-loader").hide(),this.displayOverlayPlay.style.display="none",this.displayOverlayShare.style.display="none",this.displayOverlayNextVideo.style.display="none"},SambaAdsWidgetView.prototype.updateItemCurrent=function(){var t=this;$("div.playlist-item").each(function(i,e){e.id.indexOf(t.controller.currentPlaylistIndex)>=0&&($(e).find("span.video-duration").text("ASSISTIU"),$(e).find("span.video-duration").show()),e.id.indexOf(t.controller.lastPlaylistIndex)>=0&&t.controller.lastPlaylistIndex!=t.controller.currentPlaylistIndex&&$(e).find("span.video-duration").hide()})},SambaAdsWidgetView.prototype.options=function(){var t={};$(document).height()>=$(document).width()?(t.plp="bottom-vertical",t.tm="dark"):(t.plp="right",t.tm="dark");var i={position:this.controller.playerInfo.playlist_position||t.plp,playlistStyle:this.controller.playerInfo.theme||t.tm,playlist:[]};return"bottom-horizontal"==i.position&&(i.playlistWidth=0,i.playlistHeight=143),i},SambaAdsWidgetView.prototype.showPlaylist=function(t){var i=this;i.vitem=$("#playlist-v-item"),i.hitem=$("#playlist-h-item"),$("#playlist-v-items").empty(),$("#playlist-h-items").empty(),"bottom-horizontal"==t.position&&($($.find("div.sambaads-playlist.horizontal")[0]).addClass(t.playlistStyle),$("#playlist-h-items").show()),this.controller.getPlaylist().forEach(function(t){var e=i.hitem.clone();e.find("div.playlist-item").attr("id","h-"+$("#playlist-h-items").children().length),$(e).find("img").attr("src",t.image),$(e).find("div.video-description h4 a").text(t.title.replace(/^(.{30}[^\s]*).*/,"$1")+"\n"),$("#playlist-h-items").append(e)}),$(".sambaads-playlist").show(),$("#playlist-h-items").lightSlider({item:3,autoWidth:!0,slideMove:1,slideMargin:0,mode:"slide",useCSS:!0,loop:!0,controls:!0,prevHtml:'<i class="icon-previous"></i>',nextHtml:'<i class="icon-next"></i>',pager:!1,enableTouch:!1,enableDrag:!1,onSliderLoad:function(){$("#autoWidth").removeClass("cS-hidden")}}),$(".nano").nanoScroller(),$("div.playlist-item").click(function(){this.id.split("-")[1];i.controller.play(),i.updateItemCurrent()})},SambaAdsWidgetView.prototype.onPlay=function(){this.controller.updateViewsCount(this.options.playlist[this.controller.currentPlaylistIndex].media_id,this.options.playlist[this.controller.currentPlaylistIndex].owner_id,this.options.playlist[this.controller.currentPlaylistIndex].category_name)};
//# sourceMappingURL=sambaads.widget.js.map